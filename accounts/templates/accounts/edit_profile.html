{% extends "accounts/profile_base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
    <div class="min-h-screen flex flex-row">
        {{ block.super }}
        <div class="flex flex-grow">
            <form class="md:p-4 bg-white md:w-auto m-4"
                  method="post"
                  enctype="multipart/form-data"
            >
                <div class="text-3xl">Настройка аккаунта</div>
                {% csrf_token %}
                {% for field in user_form %}
                    <div class="mb-5 mt-4 w-sm">
                        <label for="{{ field.id_for_label }}" class="block mb-2 font-normal text-gray-600">
                            {{ field.label }}
                        </label>
                        {% render_field field|add_class:"border border-gray-200 p-3 w-full rounded mb-" placeholder=field.label %}
                        {% for error in field.errors %}
                            <span class="text-sm text-red-400 mt-8">{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endfor %}

                {% for hidden in form.hidden_fields %}
                    {{ hidden }}
                {% endfor %}

                {% for field in profile_form %}
                    <div class="mb-5 mt-4">
                        <label for="{{ field.id_for_label }}" class="block mb-2 font-normal text-gray-600">
                            {{ field.label }}
                        </label>
                        {% render_field field|add_class:"border border-gray-200 p-3 w-full rounded mb-" placeholder=field.label %}
                        {% for error in field.errors %}
                            <span class="text-sm text-red-400 mt-8">{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endfor %}
                <button class="block w-full bg-white text-gray-800 font-bold p-4 rounded-lg shadow-md"
                        type="submit">Сохранить
                </button>
            </form>
            {% if form.errors %}
                <div class="text-sm text-red-400 text-center mb-6">
                    <p>ошибка формы</p>
                    {{ form.errors.as_data }}
                    {% for error in form.errors %}
                        {{ error.data }} <br>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}
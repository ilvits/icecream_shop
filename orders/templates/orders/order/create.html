{% extends "shop/base.html" %}
{% load widget_tweaks %}

{% block title %}Оформление заказа{% endblock %}

{% block content %}
    <h1 class="text-xl mb-2">Оформление заказа</h1>
    <div class="order-info">
        <h3 class="text-lg">Ваш заказ</h3>
        <ul>
            {% for item in cart %}
                <li>
                    {{ item.quantity }}x {{ item.product.name }}
                    <span>{{ item.total_price }} руб.</span>
                </li>
            {% endfor %}
        </ul>
        <p>Total: {{ cart.get_total_price }} руб.</p>
    </div>

    {% for hidden in form.hidden_fields %}
        {{ hidden }}
    {% endfor %}

    {% for field in form.visible_fields %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field|add_class:"border border-gray-300 shadow p-3 w-64 rounded mb-" }}
            {% for error in field.errors %}
                <span class="help-block">{{ error }}</span>
            {% endfor %}
        </div>
    {% endfor %}

{##}
{#    <form action="." method="post" class="px-8 pt-6 pb-8 mb-4 rounded">#}
{#        {{ form.as_p }}#}
{#        <p><input type="submit" value="Place order"></p>#}
{#        {% csrf_token %}#}
{#    </form>#}


{% endblock %}